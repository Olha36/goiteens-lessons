const promises = horses.map(run); // –í —Ü—å–æ–º—É —Ä—è–¥–∫—É —Ñ—É–Ω–∫—Ü—ñ—è `map` –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —Ñ—É–Ω–∫—Ü—ñ—é `run` –¥–æ –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç—É –º–∞—Å–∏–≤—É `horses` —ñ —Å—Ç–≤–æ—Ä—é—î –º–∞—Å–∏–≤ –ø—Ä–æ–º—ñ—Å—ñ–≤, –¥–µ –∫–æ–∂–µ–Ω –ø—Ä–æ–º—ñ—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `run` –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –∫–æ–Ω—è.

updateWinnerField(''); // –ü—É—Å—Ç—ñ –ª–∞–ø–∫–∏ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ —Ä—è–¥–∫–∞ —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó `updateWinnerField`. –¶–µ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—å –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É –ø–æ–ª—è –ø–µ—Ä–µ–º–æ–∂—Ü—è –ø–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º.

determineWinner(promises); // –¢—É—Ç –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –ø—Ä–æ–º—ñ—Å–∏, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ø–µ—Ä–µ–º–æ–∂—Ü—è. –§—É–Ω–∫—Ü—ñ—è `determineWinner` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `Promise.race`, —è–∫–∞ –ø–æ–≤–µ—Ä–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä—à–æ–≥–æ –≤–∏—Ä—ñ—à–µ–Ω–æ–≥–æ –ø—Ä–æ–º—ñ—Å—É –∑ –º–∞—Å–∏–≤—É.

waitForAll(promises); // –¢—É—Ç —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –ø—Ä–æ–º—ñ—Å–∏. –§—É–Ω–∫—Ü—ñ—è `waitForAll` –æ—á—ñ–∫—É—î –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø—Ä–æ–º—ñ—Å—ñ–≤ –∑ –º–∞—Å–∏–≤—É, —â–æ–± –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

Promise.race(horsesP).then(({ horse, time }) // –£ —Ñ—É–Ω–∫—Ü—ñ—ó `determineWinner` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `Promise.race`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä—à–æ–≥–æ –≤–∏—Ä—ñ—à–µ–Ω–æ–≥–æ –ø—Ä–æ–º—ñ—Å—É. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ `horse` —ñ `time` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º—ñ—Å—É, —è–∫–∏–π –≤–∏—Ä—ñ—à–∏–≤—Å—è –ø–µ—Ä—à–∏–º.

updateWinnerField(`üéâ –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å ${horse}, —Ñ–∏–Ω–∏—à—É–≤–∞–≤ –∑–∞ ${time} —á–∞—Å—É`); // –¢—É—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ª—è –ø–µ—Ä–µ–º–æ–∂—Ü—è –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–µ—Ä—à–æ–≥–æ –ø—Ä–æ–º—ñ—Å—É.

updateProgressField(message); // –¶–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ª—è –ø—Ä–æ–≥—Ä–µ—Å—É –∑ –ø–µ—Ä–µ–¥–∞–Ω–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º.

const time = getRandomTime(2000, 3500); // –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –≥–µ–Ω–µ—Ä—É—î –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–Ω—è, —â–æ–± —Å–∏–º—É–ª—é–≤–∞—Ç–∏ —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∑–∞–±—ñ–≥—É.

function getRandomTime(min, max) { } // –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ —á–∏—Å–ª–∞ –≤ –∑–∞–¥–∞–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∑–∞–±—ñ–≥—É –∫–æ–∂–Ω–æ–≥–æ –∫–æ–Ω—è.
